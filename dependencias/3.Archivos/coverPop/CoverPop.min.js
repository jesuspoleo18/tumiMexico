/*!
 * CoverPop 2.5.1
 * http://coverpopjs.com
 *
 * Copyright (c) 2015 Tyler Pearson
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 */

!function(e){"use strict";var o={coverId:"CoverPop-cover",expires:30,closeClassNoDefault:"CoverPop-close",closeClassDefault:"CoverPop-close-go",openClassDefault:"CoverPop-open",cookieName:"_CoverPop",onPopUpOpen:null,onPopUpClose:null,forceHash:"splash",delayHash:"go",closeOnEscape:!0,delay:0,hideAfter:null},s={},t={hasClass:function(e,o){return new RegExp("(\\s|^)"+o+"(\\s|$)").test(e.className)},addClass:function(e,o){t.hasClass(e,o)||(e.className+=(e.className?" ":"")+o)},removeClass:function(e,o){t.hasClass(e,o)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+o+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},addListener:function(e,o,s){e.addEventListener?e.addEventListener(o,s,!1):e.attachEvent&&e.attachEvent("on"+o,s)},removeListener:function(e,o,s){e.removeEventListener?e.removeEventListener(o,s,!1):e.detachEvent&&e.detachEvent("on"+o,s)},isFunction:function(e){var o={};return e&&"[object Function]"===o.toString.call(e)},setCookie:function(e,o){var s=new Date;s.setTime(+s+864e5*o),document.cookie=e+"=true; expires="+s.toGMTString()+"; path=/"},hasCookie:function(e){return-1!==document.cookie.indexOf(e)?!0:!1},hashExists:function(e){return-1!==window.location.hash.indexOf(e)?!0:!1},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},mergeObj:function(e,o){for(var s in o)e[s]=o[s]}},n=function(s){o.closeOnEscape&&27===s.keyCode&&e.close()},l=function(){if(null!==o.onPopUpOpen){if(!t.isFunction(o.onPopUpOpen))throw new TypeError("CoverPop open callback must be a function.");o.onPopUpOpen.call()}},a=function(){if(null!==o.onPopUpClose){if(!t.isFunction(o.onPopUpClose))throw new TypeError("CoverPop close callback must be a function.");o.onPopUpClose.call()}};e.open=function(){var a,c;if(t.hashExists(o.delayHash))return void t.setCookie(o.cookieName,1);if(t.addClass(s.html,o.openClassDefault),s.closeClassNoDefaultEls.length>0)for(a=0,c=s.closeClassNoDefaultEls.length;c>a;a++)t.addListener(s.closeClassNoDefaultEls[a],"click",function(o){o.target===this&&(t.preventDefault(o),e.close())});if(s.closeClassDefaultEls.length>0)for(a=0,c=s.closeClassDefaultEls.length;c>a;a++)t.addListener(s.closeClassDefaultEls[a],"click",function(o){o.target===this&&e.close()});t.addListener(document,"keyup",n),l()},e.close=function(){t.removeClass(s.html,o.openClassDefault),t.setCookie(o.cookieName,o.expires),t.removeListener(document,"keyup",n),a()},e.init=function(n){navigator.cookieEnabled&&(t.mergeObj(o,n),s={html:document.getElementsByTagName("html")[0],cover:document.getElementById(o.coverId),closeClassDefaultEls:document.querySelectorAll("."+o.closeClassDefault),closeClassNoDefaultEls:document.querySelectorAll("."+o.closeClassNoDefault)},(!t.hasCookie(o.cookieName)||t.hashExists(o.forceHash))&&(0===o.delay?e.open():setTimeout(e.open,o.delay),o.hideAfter&&setTimeout(e.close,o.hideAfter+o.delay)))},e.start=function(o){e.init(o)}}(window.CoverPop=window.CoverPop||{});
